<form class="w5c-form form-horizontal" w5c-form-validate novalidate name="validateForm">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">
        {{title}}
        <div class="modal-close" ng-click="cancel()">
          <i class="i-close"></i>
        </div>
      </div>
    </div>
    <div class="modal-body modal-body-content">
      <div class="row">
        <div class="col-sm-7">
          <div class="row" ng-show="!isedit">
            <div class="modal-body-name">代码<span class="text-danger">*</span></div>
            <div class="modal-body-value" >
              <input type="text" class="form-control" name="code" required ng-model="unitObj.code" ng-change="changeText('code')">
            </div>
          </div>
          <div class="row" ng-show="isedit">
            <div class="modal-body-name">代码</div>
            <div class="modal-body-value">
              <label class="label-checkbox">{{unitObj.code}}</label>
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">IATA代码<span class="text-danger">*</span></div>
            <div class="modal-body-value" >
              <input type="text" class="form-control" name="IATACode" required ng-model="unitObj.IATACode">
            </div>
          </div>
          <!-- <div class="row" ng-if="!iseditIATACode">
            <div class="modal-body-name">IATA代码</div>
            <div class="modal-body-value">
              <label class="label-checkbox">{{unitObj.IATACode}}</label>
            </div>
          </div> -->
          <div class="row">
            <div class="modal-body-name">中文名<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="name" required ng-model="unitObj.name">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">英文名<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="ename" required ng-model="unitObj.ename">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">简称</div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="aliase" ng-model="unitObj.aliase">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">联系人<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="linkpeople" required ng-model="unitObj.linkpeople">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">联系电话<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="linkphone" required ng-model="unitObj.linkphone">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">邮件报文接收地址<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <input type="text" class="form-control" name="reportemail" required ng-model="unitObj.reportemail">
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">是否现金结算客户</div>
            <div class="modal-body-value">
              <label class="label-checkbox">
                <input type="radio" ng-model="unitObj.iscashcommissionn" value="1">是
              </label>
              <label class="label-checkbox">
                <input type="radio" ng-model="unitObj.iscashcommissionn" value="0" />否
              </label>
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">权限方案<span class="text-danger">*</span></div>
            <div class="modal-body-value">
              <div ui-select multiple ng-model="unitObj.plan" theme="select2" class="form-control">
                <div ui-select-match placeholder="请选择...">{{$item.name}}</div>
                <div ui-select-choices repeat="item in planData | filter: {name:$select.search}">
                  <div ng-bind-html="item.name | highlight: $select.search"></div>
                </div>
              </div>
              <input type="hidden" name="plan" ng-model="unitObj.plan" required />
            </div>
          </div>
          <div class="row">
            <div class="modal-body-name">机构角色</div>
            <div class="modal-body-value">
              <div ui-select multiple ng-model="unitObj.role" theme="select2" class="form-control">
                <div ui-select-match placeholder="请选择...">{{$item.name}}</div>
                <div ui-select-choices repeat="item in roleData | filter: {name:$select.search}">
                  <div ng-bind-html="item.name | highlight: $select.search"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-1">
        </div>
        <div class="col-sm-4">
          <img ng-src="{{unitObj.fileObj.url}}" alt="" class="upload-avatar mb10">
          <div>
            <button class="btn btn-primary" on-file-uploaded="uploadCallback($response, unitObj)" pl-upload pl-filters-model="[{title: 'Image files', extensions:'gif,png,jpg,jpeg'}]"
              pl-max-file-size="5mb" pl-url="/api/org/units/avatars/ ">上传</button>
          </div>          
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary" w5c-form-submit="save()">保存</button>
      <button class="btn btn-default" ng-click="cancel()">取消</button>
    </div>
  </div>
</form>